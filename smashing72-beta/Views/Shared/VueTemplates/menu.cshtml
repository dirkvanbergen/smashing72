<template id="menu-template">
    <div class="menu" @@click="expand" :class="{'menu--expanded' : expanded}">
        <div class="menu__title">Menu<span class="menu__close" @@click.stop.prevent="collapse"></span></div>
        <div class="menu__toplevel-item" v-for="item in topLevelItems" :class="{active: isActive(item), 'menu__toplevel-item--has-subs': item.subItems.length > 0, 'menu__toplevel-item--expanded' : subOpen(item)}">
            <div class="menu__label" v-if="isMenuItem(item)" @@click.stop.prevent="openSubmenu(item)">{{ item.MenuTitle }}</div>
            <a class="menu__label" :href="('/' + item.UrlSegment).replace('//', '/')" v-if="!isMenuItem(item)">{{ item.MenuTitle }}</a>
            <smashing-submenu v-if="item.subItems.length > 0" :items="item.subItems" :parent="item"></smashing-submenu>
        </div>
    </div>
</template>
